<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Project Requirements Share</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
  --primary:#1a73e8; --primary-light:#e8f0fe; --text:#202124; --text-secondary:#5f6368;
  --bg:#fff; --card:#fff; --border:#dadce0; --shadow:0 1px 3px rgba(60,64,67,0.3),0 4px 8px rgba(60,64,67,0.15);
  --radius:8px; --transition:all 0.3s ease; --success:#34a853; --warning:#f9ab00;
}
.dark {--primary:#8ab4f8; --primary-light:#202124; --text:#e8eaed; --text-secondary:#9aa0a6; --bg:#202124; --card:#292a2d; --border:#3c4043;}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:sans-serif;background:var(--bg);color:var(--text);transition:var(--transition);min-height:100vh;padding:20px;}
.container{max-width:900px;margin:0 auto;}
header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;border-bottom:1px solid var(--border);padding-bottom:10px;}
header h1{font-size:24px;color:var(--primary);}
.theme-toggle{cursor:pointer;font-size:20px;}
.card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px;margin-bottom:20px;}
input,textarea,select{width:100%;padding:12px;border:1px solid var(--border);border-radius:var(--radius);margin-bottom:15px;}
button{padding:10px 20px;border:none;border-radius:var(--radius);cursor:pointer;transition:var(--transition);}
button.primary{background:var(--primary);color:white;}
button.secondary{background:#f1f3f4;color:var(--text);}
button.success{background:var(--success);color:white;}
button.warning{background:var(--warning);color:#202124;}
.url-box{background:var(--primary-light);padding:10px;border-radius:var(--radius);word-break:break-all;display:none;margin-top:10px;}
.history-item{padding:10px;border:1px solid var(--border);border-radius:var(--radius);cursor:pointer;margin-bottom:8px;}
</style>
</head>
<body>
<div class="container">
<header>
  <h1><i class="fas fa-file-contract"></i> Project Requirements Share</h1>
  <i class="fas fa-moon theme-toggle" id="themeToggle"></i>
</header>

<div class="card" id="inputForm">
  <label>Project Title *</label>
  <input type="text" id="title" placeholder="Enter project title">
  <label>Details *</label>
  <textarea id="details" placeholder="Describe your requirements..."></textarea>
  <label>Tags (comma separated)</label>
  <input type="text" id="tags" placeholder="e.g. Web, Backend, Design">
  <label>Confidence Level (%)</label>
  <input type="range" id="confidence" min="0" max="100" value="50">
  <span id="confValue">50%</span>
  <label>Upload Files (max 5)</label>
  <input type="file" id="files" multiple>
  <button class="primary" id="generateBtn"><i class="fas fa-link"></i> Generate Share Link</button>
  <div class="url-box" id="urlBox">
    <div id="urlText"></div>
    <button class="success" id="copyBtn"><i class="fas fa-copy"></i> Copy</button>
    <button class="success" id="whatsappBtn"><i class="fab fa-whatsapp"></i> WhatsApp</button>
    <button class="warning" id="printBtn"><i class="fas fa-print"></i> Print / PDF</button>
  </div>
</div>

<div class="card" id="requirementsDisplay" style="display:none;">
  <h2 id="displayTitle"></h2>
  <div><strong>Tags:</strong> <span id="displayTags"></span></div>
  <div><strong>Confidence:</strong> <span id="displayConfidence"></span>%</div>
  <div><strong>Details:</strong></div>
  <div id="displayDetails"></div>
  <div><strong>Date:</strong> <span id="displayDate"></span></div>
  <button class="primary" id="newBtn">New Requirement</button>
</div>

<div class="card" id="historyContainer" style="display:none;">
  <h2>History</h2>
  <div id="historyList"></div>
  <button class="secondary" id="backBtn">Back</button>
</div>

</div>

<script>
// Theme
const themeToggle=document.getElementById('themeToggle');
themeToggle.addEventListener('click',()=>{document.body.classList.toggle('dark');});

// Confidence slider
const confidence=document.getElementById('confidence');
const confValue=document.getElementById('confValue');
confidence.addEventListener('input',()=>{confValue.textContent=confidence.value+'%';});

// Elements
const generateBtn=document.getElementById('generateBtn');
const urlBox=document.getElementById('urlBox');
const urlText=document.getElementById('urlText');
const copyBtn=document.getElementById('copyBtn');
const whatsappBtn=document.getElementById('whatsappBtn');
const printBtn=document.getElementById('printBtn');

const inputForm=document.getElementById('inputForm');
const requirementsDisplay=document.getElementById('requirementsDisplay');
const newBtn=document.getElementById('newBtn');

const titleInput=document.getElementById('title');
const detailsInput=document.getElementById('details');
const tagsInput=document.getElementById('tags');

// Generate share link
generateBtn.addEventListener('click',()=>{
  if(!titleInput.value.trim()||!detailsInput.value.trim()){alert('Title and Details required');return;}
  const data={
    title:titleInput.value.trim(),
    details:detailsInput.value.trim(),
    tags:tagsInput.value.trim(),
    confidence:confidence.value,
    date:new Date().toLocaleString()
  };
  const json=JSON.stringify(data);
  const b64=btoa(json);
  const url=window.location.origin+window.location.pathname+'#'+b64;
  urlText.textContent=url;
  urlBox.style.display='block';
  displayData(data);
  saveHistory(data);
});

// Display requirement
function displayData(data){
  inputForm.style.display='none';
  requirementsDisplay.style.display='block';
  document.getElementById('displayTitle').textContent=data.title;
  document.getElementById('displayDetails').textContent=data.details;
  document.getElementById('displayTags').textContent=data.tags;
  document.getElementById('displayConfidence').textContent=data.confidence;
  document.getElementById('displayDate').textContent=data.date;
}

// Copy link
copyBtn.addEventListener('click',()=>{navigator.clipboard.writeText(urlText.textContent);alert('Copied!');});
// WhatsApp share
whatsappBtn.addEventListener('click',()=>{window.open('https://wa.me/?text='+encodeURIComponent(urlText.textContent),'_blank');});
// Print
printBtn.addEventListener('click',()=>{window.print();});
// New
newBtn.addEventListener('click',()=>{requirementsDisplay.style.display='none';inputForm.style.display='block';urlBox.style.display='none';});

// History in localStorage
function saveHistory(data){
  let history=JSON.parse(localStorage.getItem('history')||'[]');
  history.push(data);
  localStorage.setItem('history',JSON.stringify(history));
}
</script>
</body>
</html>